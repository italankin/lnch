apply plugin: 'com.android.application'
apply plugin: 'com.getkeepsafe.dexcount'
apply from: '../gradle/versions.gradle'

android {
    compileSdkVersion compileSdk
    defaultConfig {
        applicationId "com.italankin.lnch"
        minSdkVersion minSdk
        targetSdkVersion targetSdk
        versionCode 1
        versionName "1.0.0"
    }
    compileOptions {
        sourceCompatibility JavaVersion.VERSION_1_8
        targetCompatibility JavaVersion.VERSION_1_8
    }
    signingConfigs {
        debug {
            storeFile file("debug.jks")
            storePassword "android"
            keyAlias "android"
            keyPassword "android"
        }
        release {
            Properties props = new Properties()
            props.load(new FileInputStream(file('release.properties')))
            storeFile file(props['keystore'])
            storePassword props['keystore_password']
            keyAlias props['alias']
            keyPassword props['alias_password']
        }
    }
    buildTypes {
        debug {
            minifyEnabled false
            shrinkResources false
            signingConfig signingConfigs.debug
        }
        release {
            minifyEnabled true
            shrinkResources true
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
            signingConfig signingConfigs.release
        }
    }
}

dexcount {
    enabled = false
}

dependencies {
    implementation moxy
    annotationProcessor moxyCompiler
    implementation moxyAppCompat

    implementation dagger
    annotationProcessor daggerCompiler
    compileOnly jsr250

    implementation rxJava
    implementation rxAndroid

    implementation gson

    implementation timber

    implementation appCompat
    implementation recyclerView
    implementation palette
    implementation design
    implementation preference
    implementation customTabs

    implementation flexbox
    implementation(picasso) {
        exclude group: 'com.android.support'
    }
}
